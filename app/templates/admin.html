{% extends "base.html" %}
{% block head %}
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
{% endblock %}
{% block content %}
<div class="admin-content">
    <h1>Admin Page</h1>
    <div class="admin-section">
        <h2>Add Tournament</h2>
        <form method="POST" action="{{ url_for('admin') }}">
            {{ tournament_form.hidden_tag() }}
            {{ tournament_form.tournament_name.label }} {{ tournament_form.tournament_name }}
            {{ tournament_form.submit }}
        </form>
    </div>
    <div class="admin-section">
        <h2>Add Game</h2>
        <form method="POST" action="{{ url_for('admin') }}">
            {{ game_form.hidden_tag() }}
            {{ game_form.game_name.label }} {{ game_form.game_name }}
            {{ game_form.game_time.label }} {{ game_form.game_time }}
            {{ game_form.tournament_id.label }} {{ game_form.tournament_id }}
            {{ game_form.submit }}
        </form>
    </div>
    <div class="admin-section">
        <h2>Edit User Info</h2>
        <form method="POST" action="{{ url_for('admin') }}">
            {{ edit_user_form.hidden_tag() }}
            {{ edit_user_form.user_id.label }} {{ edit_user_form.user_id }}
            {{ edit_user_form.username.label }} {{ edit_user_form.username }}
            {{ edit_user_form.email.label }} {{ edit_user_form.email }}
            {{ edit_user_form.password.label }} {{ edit_user_form.password }}
            {{ edit_user_form.submit }}
        </form>
    </div>
    <div class="admin-section">
        <h2>Users</h2>
        <ul>
            {% for user in users %}
            <li>{{ user.username }} ({{ user.email }})</li>
            {% endfor %}
        </ul>
    </div>
    <div class="admin-section">
        <h2>Tournaments</h2>
        <ul>
            {% for tournament in tournaments %}
            <li>{{ tournament.tournament_name }}</li>
            {% endfor %}
        </ul>
    </div>
</div>
{% endblock %}
{% block scripts %}
<script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
<script>
    flatpickr("#game_time", {
        enableTime: true,
        dateFormat: "Y-m-d H:i",
    });
</script>
{% endblock %}
